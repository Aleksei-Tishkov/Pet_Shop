{% extends 'Shop/shop_base.html' %}
{% load shop_tags %}

{% block shop_title %}
    {{ title }}
{% endblock %}

{% block shop_content %}
    {% load static %}

{% if object_list %}
<div class="container text-end">
<div class="p-1 table-responsive table__card mt-5 container back-drop text-start">
<table class="table table-striped table__card">
  <thead>
    <tr>
      <th scope="col">Product</th>
      <th scope="col">Quantity</th>
      <th scope="col">Price</th>
      <th scope="col">Total</th>
    </tr>
  </thead>
  <tbody>
    {% for p in object_list %}
    <tr>
      <td>{{ p.product.product_name }}</td>
      <td>{{ p.quantity }}</td>
      <td>{{ p.product.product_price }}</td>
      <td>{{ p.quantity | multiply:p.product.product_price }}</td>
      <td><a href="delete/{{ p.pk }}" class="delete__btn">
        <span aria-hidden="true">&times;</span>
          </a>
    </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
</div>
    <h3 class="mt-5 text-end">Total: ${{ cart_sum }}</h3>
    <div class="container">
        <a class="btn mt-2" id="clear-cart">Clear cart</a>
        <a href="" class="btn btn-primary mt-2">Proceed to payment</a>
    </div>
</div>
{% else %}
    <h2 class="mt-5">Your cart is empty</h2>
{% endif %}

{% endblock %}
